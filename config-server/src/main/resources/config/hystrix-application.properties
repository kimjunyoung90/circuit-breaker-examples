# Hystrix Circuit Breaker 설정 (Spring Legacy 모듈용)
# Config Server에서 동적으로 제공되는 설정

# Hystrix Default 설정
hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=3000
hystrix.command.default.execution.timeout.enabled=true
hystrix.command.default.circuitBreaker.enabled=true
hystrix.command.default.circuitBreaker.requestVolumeThreshold=5
hystrix.command.default.circuitBreaker.errorThresholdPercentage=50
hystrix.command.default.circuitBreaker.sleepWindowInMilliseconds=10000
hystrix.command.default.metrics.rollingStats.timeInMilliseconds=10000

# 정상 API 설정
hystrix.command.normalApi.execution.isolation.thread.timeoutInMilliseconds=3000
hystrix.command.normalApi.circuitBreaker.requestVolumeThreshold=5
hystrix.command.normalApi.circuitBreaker.errorThresholdPercentage=50
hystrix.command.normalApi.circuitBreaker.sleepWindowInMilliseconds=10000

# 랜덤 API 설정
hystrix.command.randomApi.execution.isolation.thread.timeoutInMilliseconds=3000
hystrix.command.randomApi.circuitBreaker.requestVolumeThreshold=5
hystrix.command.randomApi.circuitBreaker.errorThresholdPercentage=50
hystrix.command.randomApi.circuitBreaker.sleepWindowInMilliseconds=10000

# 실패 API 설정 - 더 빠르게 Circuit Open
hystrix.command.failingApi.execution.isolation.thread.timeoutInMilliseconds=3000
hystrix.command.failingApi.circuitBreaker.requestVolumeThreshold=3
hystrix.command.failingApi.circuitBreaker.errorThresholdPercentage=30
hystrix.command.failingApi.circuitBreaker.sleepWindowInMilliseconds=5000

# 느린 API 설정 - 타임아웃 기반
hystrix.command.slowApi.execution.isolation.thread.timeoutInMilliseconds=1000
hystrix.command.slowApi.circuitBreaker.requestVolumeThreshold=5
hystrix.command.slowApi.circuitBreaker.errorThresholdPercentage=30
hystrix.command.slowApi.circuitBreaker.sleepWindowInMilliseconds=10000

# ThreadPool 설정
hystrix.threadpool.default.coreSize=10
hystrix.threadpool.default.maxQueueSize=100
hystrix.threadpool.default.queueSizeRejectionThreshold=50