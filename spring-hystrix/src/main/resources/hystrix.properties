# =============================================================================
# Hystrix Global Configuration (Circuit Breaker 전역 기본 설정)
# =============================================================================

# Command Defaults (커맨드 기본 설정)
hystrix.command.default.circuitBreaker.enabled=true
hystrix.command.default.circuitBreaker.requestVolumeThreshold=20
hystrix.command.default.circuitBreaker.sleepWindowInMilliseconds=5000
hystrix.command.default.circuitBreaker.errorThresholdPercentage=50
hystrix.command.default.circuitBreaker.forceOpen=false
hystrix.command.default.circuitBreaker.forceClosed=false

# Execution Defaults (실행 관련 기본 설정)
hystrix.command.default.execution.isolation.strategy=THREAD
hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=5000
hystrix.command.default.execution.timeout.enabled=true
hystrix.command.default.execution.isolation.thread.interruptOnTimeout=true
hystrix.command.default.execution.isolation.thread.interruptOnCancel=false

# Fallback Defaults (폴백 기본 설정)
hystrix.command.default.fallback.enabled=true
hystrix.command.default.fallback.isolation.semaphore.maxConcurrentRequests=10

# Request Context Defaults (요청 컨텍스트 기본 설정)
hystrix.command.default.requestCache.enabled=true
hystrix.command.default.requestLog.enabled=true

# Metrics Defaults (메트릭 기본 설정)
hystrix.command.default.metrics.rollingStats.timeInMilliseconds=10000
hystrix.command.default.metrics.rollingStats.numBuckets=10
hystrix.command.default.metrics.rollingPercentile.enabled=true
hystrix.command.default.metrics.rollingPercentile.timeInMilliseconds=60000
hystrix.command.default.metrics.rollingPercentile.numBuckets=6
hystrix.command.default.metrics.rollingPercentile.bucketSize=100
hystrix.command.default.metrics.healthSnapshot.intervalInMilliseconds=500

# Thread Pool Defaults (스레드풀 기본 설정)
hystrix.threadpool.default.coreSize=10
hystrix.threadpool.default.maximumSize=10
hystrix.threadpool.default.maxQueueSize=100
hystrix.threadpool.default.queueSizeRejectionThreshold=80
hystrix.threadpool.default.keepAliveTimeMinutes=1
hystrix.threadpool.default.allowMaximumSizeToDivergeFromCoreSize=false

# External API Scenarios (외부 시스템 호출 그룹별 설정)
hystrix.command.callNormalApi.circuitBreaker.requestVolumeThreshold=5000
hystrix.command.callNormalApi.circuitBreaker.errorThresholdPercentage=50
hystrix.command.callNormalApi.circuitBreaker.sleepWindowInMilliseconds=10000
hystrix.command.callNormalApi.execution.isolation.thread.timeoutInMilliseconds=2000

hystrix.command.callFailingApi.circuitBreaker.requestVolumeThreshold=10
hystrix.command.callFailingApi.circuitBreaker.errorThresholdPercentage=30
hystrix.command.callFailingApi.circuitBreaker.sleepWindowInMilliseconds=5000
hystrix.command.callFailingApi.execution.isolation.thread.timeoutInMilliseconds=2000

hystrix.command.callSlowApi.circuitBreaker.requestVolumeThreshold=3
hystrix.command.callSlowApi.circuitBreaker.errorThresholdPercentage=50
hystrix.command.callSlowApi.circuitBreaker.sleepWindowInMilliseconds=10000
hystrix.command.callSlowApi.execution.isolation.thread.timeoutInMilliseconds=1000

# =============================================================================
# Archaius Dynamic Configuration Settings (파일 변경 감지 및 자동 리로드)
# =============================================================================
# 감시 대상 설정 파일
#archaius.configurationSource.additionalUrls=classpath:config.properties

# 폴링 초기 지연 (ms) - 애플리케이션 시작 후 첫 폴링까지 대기
#archaius.fixedDelayPollingScheduler.initialDelayMills=1000
#archaius.fixedDelayPollingScheduler.delayMills=5000

# 설정 변경 콜백 활성화
archaius.dynamicProperty.disableDefaultConfig=true
